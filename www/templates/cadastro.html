<ion-view ng-controller="CadastroCtrl as ctrl">
    <ion-content>
       <div class="row">
           <button class="button button-float" ng-click="ctrl.adicionarAtividade()">
               <i class="icon ion-plus"></i>
           </button>
       </div>
       <ion-list>
           <div ng-repeat="dia in ctrl.semana">
               <ion-item class="item-stable"
                         ng-click="toggleGroup(dia)"
                         ng-class="{active: isGroupShown(dia)}">
                   <i class="icon" ng-class="isGroupShown(dia) ? 'ion-minus' : 'ion-plus'"></i>
                   &nbsp;
                   {{ dia.day }}
               </ion-item>
               <div class="card"  ng-show="isGroupShown(dia)"  ng-repeat="atividade in dia.atividades">
                   <div class="item item-text-wrap">
                       <p>Name: {{ atividade.name }}</p>
                       <p>Hours: {{ atividade.hour }} hrs</p>
                       <p>Priority: {{ atividade.priority }}</p>
                   </div>
               </div>
           </div>
       </ion-list>
    </ion-content>

    <script id="cadastrar-atividade.html" type="text/ng-template">
        <div class="modal">
            <ion-header-bar>
            </ion-header-bar>
            <ion-content>
                <form ng-submit="ctrl.doneButton()">
                    <div class="list">
                        <label class="item item-input">
                            <span class="input-label">Name *</span>
                            <input required type="text" ng-model="ctrl.name">
                        </label>
                        <label class="item item-input">
                            <span class="input-label">Hours *</span>
                            <input required type="number" ng-model="ctrl.hour">
                        </label>
                        <label class="item item-input">
                            <span class="input-label">Prioridade *</span>
                            <input required type="number" ng-model="ctrl.priority" max="5" min="1">
                        </label>
                    </div>
                    <button class="button button-full button-balanced" type="submit" >Done</button>
                    <button class="button button-full button-assertive" ng-click="ctrl.cancelButton()">Cancel</button>
                </form>
            </ion-content>
        </div>
    </script>
</ion-view>
